<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Moomtaz Bakery – Order Form</title>
  <style>
    body{font-family:Arial,sans-serif;background:#fdf6f0;padding:20px;display:flex;justify-content:center}
    .card{background:#fff;max-width:560px;width:100%;padding:22px;border-radius:18px;box-shadow:0 10px 25px rgba(0,0,0,.08)}
    h1{text-align:center;margin-bottom:4px;color:#6b3f2a}
    .subtitle{text-align:center;font-size:14px;color:#777;margin-bottom:16px}
    label{font-size:14px;margin-top:14px;display:block}
    input,textarea{width:100%;padding:10px;margin-top:6px;border-radius:10px;border:1px solid #ddd}
    .btn-group{display:flex;flex-wrap:wrap;gap:8px;margin-top:8px}
    .btn{padding:8px 14px;border-radius:20px;border:1px solid #ccc;background:#fafafa;cursor:pointer;font-size:13px}
    .btn.active{background:#6b3f2a;color:#fff;border-color:#6b3f2a}
    .btn.multi.active{background:#8d5a3b;color:#fff}
    button.submit{margin-top:18px;width:100%;padding:14px;border:none;border-radius:14px;background:#6b3f2a;color:#fff;font-size:16px;cursor:pointer}
    .secondary{background:#8d5a3b}
  </style>
</head>
<body>
<div class="card">
<h1>Moomtaz Bakery</h1>
<img src="Logo Bakery.PNG" alt="Moomtaz Bakery Logo" style="display:block;margin:10px auto 6px;max-width:220px;width:100%;height:auto;background:transparent;mix-blend-mode:multiply;">
<div class="subtitle">Form Pemesanan</div>
<form id="orderForm">

<label>Nama</label>
<input id="nama" required>

<label>Tanggal Pesan</label>
<input type="date" id="tanggal" required>

<label>Alamat</label>
<textarea id="alamat" rows="2" required></textarea>

<label>Metode Pemesanan</label>
<div class="btn-group" data-single>
  <div class="btn">Delivery</div>
  <div class="btn">Pick Up</div>
</div>

<label>Metode Pembayaran</label>
<div class="btn-group" data-single>
  <div class="btn">Cash</div>
  <div class="btn">Cashless</div>
</div>

<label>Jenis Produk</label>
<div class="btn-group" id="jenisProduk">
  <div class="btn">Donut</div>
  <div class="btn">Kopi</div>
  <div class="btn">Roti</div>
  <div class="btn">Bomboloni</div>
  <div class="btn">Mochi</div>
  <div class="btn">Donut Tower</div>
</div>

<label>Jumlah</label>
<input type="number" id="qty" value="1" min="1">

<label>Varian (bisa pilih lebih dari satu)</label>
<div class="btn-group" id="varianProduk"></div>

<button type="button" id="addItem" class="submit secondary">Tambah ke Pesanan</button>

<label>Ringkasan Pesanan</label>
<textarea id="ringkasan" rows="6" readonly></textarea>

<label>Total Harga</label>
<input id="total" readonly>

<button type="submit" class="submit">Pesan via WhatsApp</button>
</form>
</div>

<script>
// ===== DATA =====
const varianData={
  "Donut":["Mix Donut 1 Doz Box","Mix Donut 1/2 Doz Box","Black Cookies","Carnaval","Bloody Marry","Greentea Shot","Eclipse","Funfetti","Black Peanut","Floss","Cheese Attack","Black Forrest","Pinkle","Pinky Bloom","Poco Loco","Cookies n Cream","Voldemond","Red Flag","Love Choco","Nut Ur Type","Cappu Nut","Capp Of Love","Till I Miss U","Miss Ur Kies","Green Nut","Unicorn"],
  "Kopi":["Palm Sugar Latte - Single","Palm Sugar Latte - Double"],
  "Roti":["Roti Coklat","Roti Keju","Roti Strawberry","Roti Blueberry","Roti Coklat Keju"],
  "Bomboloni":["Cokelat","Strawberry","Cream Cheese","Vanilla"],
  "Mochi":["Choco Crunchy","Vanilla Cookie","Double Berrie","Cheezy Lotus"],
  "Donut Tower":["Uk 25x35","Uk 20x35","Uk 18x20"]
};

const hargaData={
  "Mix Donut 1 Doz Box":55000,
  "Mix Donut 1/2 Doz Box":28000,
  "Palm Sugar Latte - Single":12000,
  "Palm Sugar Latte - Double":15000,
  "Roti Coklat":4000,
  "Roti Keju":4000,
  "Roti Strawberry":4000,
  "Roti Blueberry":4000,
  "Roti Coklat Keju":4000,
  "Cokelat":5000,
  "Strawberry":5000,
  "Cream Cheese":5000,
  "Vanilla":5000,
  "Choco Crunchy":10000,
  "Vanilla Cookie":10000,
  "Double Berrie":10000,
  "Cheezy Lotus":10000,
  "Uk 25x35":180000,
  "Uk 20x35":150000,
  "Uk 18x20":100000
};

// ===== UTIL =====
const rupiah=n=>"Rp "+n.toLocaleString('id-ID');
let cart=[];
let jenisAktif="";

// ===== SINGLE SELECT =====
document.querySelectorAll('[data-single]').forEach(g=>{
 g.onclick=e=>{
  if(!e.target.classList.contains('btn'))return;
  g.querySelectorAll('.btn').forEach(b=>b.classList.remove('active'));
  e.target.classList.add('active');
 };
});

// ===== JENIS PRODUK =====
document.getElementById('jenisProduk').onclick=e=>{
 if(!e.target.classList.contains('btn'))return;
 document.querySelectorAll('#jenisProduk .btn').forEach(b=>b.classList.remove('active'));
 e.target.classList.add('active');
 jenisAktif=e.target.textContent;
 const vg=document.getElementById('varianProduk');
 vg.innerHTML='';
 varianData[jenisAktif].forEach(v=>{
  const b=document.createElement('div');
  b.className='btn multi';
  b.textContent=v;
  vg.appendChild(b);
 });
};

// ===== VARIAN MULTI =====
document.getElementById('varianProduk').onclick=e=>{
 if(e.target.classList.contains('btn'))e.target.classList.toggle('active');
};

// ===== ADD ITEM =====
document.getElementById('addItem').onclick=()=>{
 const qty=parseInt(document.getElementById('qty').value);
 document.querySelectorAll('#varianProduk .btn.active').forEach(b=>{
  cart.push({nama:b.textContent,qty,harga:hargaData[b.textContent]||0});
 });
 render();
 document.getElementById('varianProduk').innerHTML='';
};

function render(){
 let total=0;let text='';
 cart.forEach((i,idx)=>{
  total+=i.harga*i.qty;
  text+=`${idx+1}. ${i.nama} x${i.qty} – ${rupiah(i.harga*i.qty)}\n`;
 });
 document.getElementById('ringkasan').value=text;
 document.getElementById('total').value=rupiah(total);
}

// ===== WHATSAPP =====
document.getElementById('orderForm').onsubmit=e=>{
 e.preventDefault();
 const msg=`Halo Moomtaz Bakery%0A%0ANama: ${nama.value}%0ATanggal: ${tanggal.value}%0AAlamat: ${alamat.value}%0A%0APesanan:%0A${ringkasan.value.replace(/\n/g,'%0A')}%0ATotal: ${total.value}`;
 window.open(`https://wa.me/6285161967997?text=${msg}`,'_blank');
};
</script>
</body>
</html>
