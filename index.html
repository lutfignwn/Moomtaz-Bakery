<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <title>Moomtaz Bakery</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    body {font-family: Arial, sans-serif; background:#fafafa; margin:0; padding:0}
    header {text-align:center; padding:20px}
    header img {width:120px; margin-top:10px}
    .container {max-width:800px; margin:auto; padding:20px}
    h2 {margin-top:30px}
    .btn-group {display:flex; flex-wrap:wrap; gap:10px}
    button.option {padding:10px 14px; border-radius:8px; border:1px solid #ccc; background:white; cursor:pointer}
    button.option.active {background:#f59e0b; color:white; border-color:#f59e0b}
    .summary {margin-top:30px; padding:15px; background:#fff3cd; border-radius:8px}
  </style>
</head>
<body>

<header>
  <h1>Moomtaz Bakery</h1>
  <img src="logo.png" alt="Logo" />
</header>

<div class="container">

<h2>Pilih Produk</h2>
<div class="btn-group" id="produk"></div>

<h2>Jumlah / Paket</h2>
<div class="btn-group" id="qty"></div>

<h2>Pilih Varian (bebas)</h2>
<div class="btn-group" id="varian"></div>

<div class="summary" id="summary">Silakan pilih produk</div>

</div>

<script>
// ================= DATA =================
const produkList = [
  "Donut Reguler",
  "Donut Little",
  "Donut Mochi Reguler",
  "Donut Mochi Little"
];

const hargaPaketDonut = {
  "Donut Reguler": {1:5000,2:10000,3:15000,4:20000,6:28000,12:55000},
  "Donut Little": {1:3000,4:12000,5:15000,6:18000,9:27000,12:35000,20:58000},
  "Donut Mochi Reguler": {1:10000},
  "Donut Mochi Little": {2:15000}
};

const varianDonut = [
  "Black Cookies","Carnaval","Bloody Marry","Greentea Shot","Eclipse",
  "Funfetti","Black Peanut","Floss","Cheese Attack","Black Forrest",
  "Pinkle","Pinky Bloom","Poco Loco","Cookies n Cream","Voldemond",
  "Red Flag","Love Choco","Nut Ur Type","Cappu Nut","Capp Of Love",
  "Till I Miss U","Miss Ur Kies","Green Nut","Unicorn"
];

// ================= STATE =================
let produkAktif = null;
let qtyAktif = null;
let varianDipilih = [];

// ================= UI INIT =================
const produkDiv = document.getElementById("produk");
const qtyDiv = document.getElementById("qty");
const varianDiv = document.getElementById("varian");
const summary = document.getElementById("summary");

produkList.forEach(p => {
  const b = document.createElement("button");
  b.textContent = p;
  b.className = "option";
  b.onclick = () => pilihProduk(p,b);
  produkDiv.appendChild(b);
});

// ================= FUNCTIONS =================
function pilihProduk(p,btn){
  produkAktif = p;
  qtyAktif = null;
  varianDipilih = [];

  document.querySelectorAll('#produk .option').forEach(b=>b.classList.remove('active'));
  btn.classList.add('active');

  renderQty();
  renderVarian();
  updateSummary();
}

function renderQty(){
  qtyDiv.innerHTML = '';
  Object.keys(hargaPaketDonut[produkAktif]).forEach(q => {
    const b = document.createElement('button');
    b.textContent = q;
    b.className = 'option';
    b.onclick = ()=>{qtyAktif = q; document.querySelectorAll('#qty .option').forEach(x=>x.classList.remove('active')); b.classList.add('active'); updateSummary();}
    qtyDiv.appendChild(b);
  });
}

function renderVarian(){
  varianDiv.innerHTML = '';
  varianDonut.forEach(v=>{
    const b = document.createElement('button');
    b.textContent = v;
    b.className = 'option';
    b.onclick = ()=>{
      if(varianDipilih.includes(v)){
        varianDipilih = varianDipilih.filter(x=>x!==v);
        b.classList.remove('active');
      } else {
        varianDipilih.push(v);
        b.classList.add('active');
      }
      updateSummary();
    }
    varianDiv.appendChild(b);
  });
}

function updateSummary(){
  if(!produkAktif || !qtyAktif){
    summary.innerHTML = 'Pilih produk dan jumlah';
    return;
  }

  const harga = hargaPaketDonut[produkAktif][qtyAktif];

  summary.innerHTML = `
    <b>Produk:</b> ${produkAktif}<br>
    <b>Jumlah:</b> ${qtyAktif}<br>
    <b>Varian:</b> ${varianDipilih.length ? varianDipilih.join(', ') : 'Bebas'}<br>
    <b>Total:</b> Rp ${harga.toLocaleString('id-ID')}
  `;
}
</script>

</body>
</html>
